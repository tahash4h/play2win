<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Soccer Predictor Prompt</title>
    <style>
        /* General Body and Layout Styling */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f7f6;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }

        /* Main App Container (Mimicking a data panel) */
        .container {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px; /* Wider for more text content */
            overflow: hidden;
            border: 1px solid #e0e0e0;
        }

        /* Header Styling */
        header {
            background-color: #004d40; /* Dark Teal */
            color: white;
            padding: 18px 25px;
            text-align: center;
            font-size: 1.8em;
            font-weight: 700;
            border-bottom: 4px solid #00c853; /* Bright Green accent */
        }

        /* Navigation Buttons (e.g., "New Prediction", "Log out") */
        .nav-buttons {
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            border-bottom: 1px solid #f0f0f0;
            background-color: #fcfcfc;
        }

        .nav-buttons button {
            background-color: #00796b; /* Slightly lighter teal */
            color: white;
            padding: 10px 18px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.95em;
            font-weight: 600;
            transition: background-color 0.3s, transform 0.1s;
        }

        .nav-buttons button:hover {
            background-color: #006056;
        }

        .nav-buttons button:active {
            transform: scale(0.98);
        }

        /* Input and Form Styling for Prediction Query */
        .input-section {
            padding: 25px 30px;
            border-bottom: 1px solid #f0f0f0;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #333;
            font-size: 1.1em;
        }

        #researcherQuery {
            width: calc(100% - 22px); /* Account for padding */
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid #b0b0b0;
            border-radius: 8px;
            font-size: 1.05em;
            resize: vertical; /* Allow vertical resizing */
            min-height: 80px;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        #researcherQuery:focus {
            border-color: #00c853;
            box-shadow: 0 0 0 2px rgba(0, 200, 83, 0.2);
            outline: none;
        }

        #generatePredictionButton {
            background-color: #00c853; /* Bright Green */
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 700;
            transition: background-color 0.3s, transform 0.1s;
            width: 100%;
            letter-spacing: 0.5px;
        }

        #generatePredictionButton:hover {
            background-color: #00a044;
        }

        #generatePredictionButton:active {
            transform: scale(0.99);
        }

        /* Prediction Output Area */
        .prediction-output {
            padding: 25px 30px;
            min-height: 250px; /* Ensure sufficient space */
            background-color: #f9fdfb; /* Very light green tint */
        }

        .prediction-output h3 {
            color: #004d40;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 12px;
            margin-top: 0;
            font-size: 1.5em;
            font-weight: 600;
        }

        #aiPredictionResult {
            background-color: #ffffff;
            padding: 20px;
            border-left: 6px solid #00c853; /* Stronger accent line */
            border-radius: 6px;
            white-space: pre-wrap; /* Preserves formatting from AI response */
            color: #444;
            font-size: 1.1em;
            line-height: 1.7;
            box-shadow: inset 0 1px 5px rgba(0, 0, 0, 0.05);
            min-height: 120px;
        }

        /* Loading Indicator */
        .loading {
            text-align: center;
            color: #004d40;
            font-style: italic;
            padding: 15px;
            display: none; /* Hidden by default */
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            What Researchers Predict About.
        </header>

       

            
            <div id="aiPredictionResult">
                Enter a query on the information page to see research predictions here.
            </div>
            <p class="loading" id="loadingIndicator">Generating in-depth insights... please wait.</p>
        </div>
    </div>
    <script>
        // Display the researcher response when page loads
        document.addEventListener('DOMContentLoaded', function() {
            const aiPredictionResult = document.getElementById('aiPredictionResult');
            const response = sessionStorage.getItem('researcherResponse');
            const query = sessionStorage.getItem('researcherQuery');

            // Redirect if no response (page accessed directly without generating)
            if (!response) {
                alert('Please generate a prediction from the information page first.');
                window.location.href = '/dashboard.html';
                return;
            }

            // Convert markdown-style formatting to HTML
            let formattedResponse = response
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') // Bold text
                .replace(/\n\n+/g, '</p><p>') // Multiple newlines = paragraph breaks
                .replace(/\n/g, '<br>'); // Single newlines = line breaks
            
            // Wrap in paragraph tags if not already wrapped
            if (!formattedResponse.startsWith('<p>')) {
                formattedResponse = '<p>' + formattedResponse + '</p>';
            }
            
            aiPredictionResult.innerHTML = formattedResponse;
            
            // Clear sessionStorage after displaying
            sessionStorage.removeItem('researcherResponse');
            sessionStorage.removeItem('researcherQuery');
        });
    </script>
</body>
</html>